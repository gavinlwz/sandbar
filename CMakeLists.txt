cmake_minimum_required (VERSION 2.6)
project (Sandbar)




#Pull needed header files generated by QT first
set(QT_GENERATED qtGenerated)
add_custom_target(${QT_GENERATED})
#Get all header files in the directory
file(GLOB QT_GEN_HEADERS ${QT_BIN}/*.h)
#Copy them to the project dir
foreach(QT_GEN_HEADERS ${QT_GEN_HEADERS})
    add_custom_command(TARGET ${QT_GENERATED} PRE_BUILD COMMAND
            ${CMAKE_COMMAND} -E copy_if_different
            ${QT_GEN_HEADERS} ${CMAKE_SOURCE_DIR})
endforeach()











find_package(Qt5Widgets REQUIRED)
add_executable(Sandbar trials.cpp MainWindow.cpp MainWindow.h AudioPlayback.cpp AudioPlayback.h)
target_link_libraries(Sandbar Qt5::Widgets portaudio)

file(GLOB QT_CPP_GENERATED ./QtBinDebug542/debug/*.cpp)
set(SOURCE_FILES main.cpp ui_mainwindow.h
        mainwindow.cpp ui.h ${QT_GEN_HEADERS} ${QT_CPP_GENERATED})